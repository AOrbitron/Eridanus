"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{2067:function(V,P,e){e.r(P);var O=e(15009),i=e.n(O),v=e(97857),m=e.n(v),p=e(99289),D=e.n(p),b=e(5574),c=e.n(b),C=e(2618),A=e(17788),h=e(87547),U=e(94149),I=e(84713),L=e(38480),l=e(76772),f=e(2453),W=e(67610),o=e(67294),T=e(73935),Z=e(91094),G=e.n(Z),u=e(85893),R=function(){var d,M=(0,l.useModel)("@@initialState"),E=M.initialState,x=M.setInitialState,S=E==null||(d=E.settings)===null||d===void 0?void 0:d.isDark,K=(0,o.useState)({}),g=c()(K,2),J=g[0],N=g[1],y=(0,o.useState)(!1),B=c()(y,2),z=B[0],j=B[1],w=function(){var t=D()(i()().mark(function a(s){var r,n,F;return i()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,s.password=(0,Z.sha3_256)(s.password||""),_.next=4,(0,C.n$)(s);case 4:if(r=_.sent,!r.error){_.next=10;break}return f.ZP.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF"),_.abrupt("return");case 10:return localStorage.setItem("auth_token",r.auth_token?r.auth_token:""),document.cookie="auth_token=".concat(r.auth_token),_.next=14,(0,C.ts)();case 14:return n=_.sent,(0,T.flushSync)(function(){x(function($){return m()(m()({},$),{},{currentUser:n})})}),f.ZP.success("\u767B\u5F55\u6210\u529F"),F=new URL(window.location.href).searchParams,l.history.push(F.get("redirect")||"/"),_.abrupt("return");case 20:_.next=24;break;case 22:_.prev=22,_.t0=_.catch(0);case 24:case"end":return _.stop()}},a,null,[[0,22]])}));return function(s){return t.apply(this,arguments)}}();return(0,o.useEffect)(function(){},[]),(0,u.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1e3,background:S?"#1f1f1f":"#f5f5f5"},children:[(0,u.jsx)(l.Helmet,{children:(0,u.jsxs)("title",{children:["\u767B\u5F55"," - ",W.Z.title]})}),(0,u.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,u.jsxs)(I.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,u.jsx)("img",{alt:"logo",src:"/icons/icon-192x192.png"}),title:"Eridanus WebUI",subTitle:"\u8BF7\u767B\u5F55",initialValues:{autoLogin:!0},onFinish:function(){var t=D()(i()().mark(function a(s){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(s);case 2:case"end":return n.stop()}},a)}));return function(a){return t.apply(this,arguments)}}(),children:[(0,u.jsx)(L.Z,{name:"account",fieldProps:{size:"large",prefix:(0,u.jsx)(h.Z,{})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]}),(0,u.jsx)(L.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,u.jsx)(U.Z,{})},placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]}),(0,u.jsx)("a",{style:{float:"right",marginBottom:"20px"},onClick:function(){return j(!0)},children:"\u4E0D\u77E5\u9053/\u5FD8\u8BB0\u8D26\u6237\u5BC6\u7801\uFF1F"}),(0,u.jsxs)(A.Z,{title:"\u8D26\u6237\u5BC6\u7801\u5E2E\u52A9",open:z,onCancel:function(){return j(!1)},footer:null,centered:!0,children:[(0,u.jsx)("hr",{}),(0,u.jsxs)("p",{children:["\u5982\u679C\u60A8\u662F\u7B2C\u4E00\u6B21\u4F7F\u7528\uFF0C\u9ED8\u8BA4\u8D26\u6237\u5BC6\u7801\u5747\u4E3A\uFF1A",(0,u.jsx)("h1",{style:{textAlign:"center"},children:"eridanus"})]}),(0,u.jsx)("hr",{}),(0,u.jsxs)("p",{children:["\u5982\u679C\u60A8\u5FD8\u8BB0\u4E86\u8D26\u6237\u548C\u5BC6\u7801\uFF0C\u8BF7\u5728",(0,u.jsx)("strong",{style:{fontSize:"1.5rem"},children:" Eridanus "}),"\u76EE\u5F55\u4E0B\uFF0C\u627E\u5230",(0,u.jsx)("strong",{style:{fontSize:"1.5rem"},children:" user_info.yaml "}),"\u6587\u4EF6\uFF0C\u5C06\u5176\u5220\u9664\u3002\u7136\u540E\u91CD\u542F\u670D\u52A1\u7AEF\uFF0C\u8D26\u6237\u5BC6\u7801\u6062\u590D\u4E3A\u9ED8\u8BA4\u3002"]}),(0,u.jsx)("hr",{}),(0,u.jsxs)("p",{children:["\u5982\u679C\u60A8\u6709\u516C\u7F51\u8BBF\u95EE\u7684\u9700\u8981\uFF0C\u4E3A\u4E86\u5B89\u5168\u8D77\u89C1\uFF0C\u8BF7\u52A1\u5FC5\u5728\u767B\u5F55\u540E\uFF0C\u627E\u5230\u9876\u90E8\u5DE5\u5177\u680F\u53F3\u4E0A\u89D2\u7684  ",(0,u.jsx)(h.Z,{style:{fontSize:"2rem"}}),"  \u6309\u94AE\uFF0C\u7ACB\u5373\u4FEE\u6539\u8D26\u6237\u5BC6\u7801\uFF01"]})]})]})})]})};P.default=R}}]);
