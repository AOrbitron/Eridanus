(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[445],{47046:function(h,O){"use strict";var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};O.Z=t},33002:function(h,O,t){"use strict";t.r(O),t.d(O,{default:function(){return at}});var D=t(52677),N=t.n(D),Z=t(19632),U=t.n(Z),k=t(97857),z=t.n(k),we=t(15009),F=t.n(we),Re=t(99289),q=t.n(Re),be=t(5574),I=t.n(be),l=t(67294),Ze=t(55102),w=t(2453),Fe=t(72269),Ie=t(37804),De=t(86738),_=t(83622),me=t(2487),pe=t(4393),Ne=t(34041),ze=t(74330),Le=t(93967),ge=t.n(Le),ye=t(9220),Ye=t(74902),xe=t(75164);function Be(n){let r;const s=p=>()=>{r=null,n.apply(void 0,(0,Ye.Z)(p))},u=function(){if(r==null){for(var p=arguments.length,A=new Array(p),E=0;E<p;E++)A[E]=arguments[E];r=(0,xe.Z)(s(A))}};return u.cancel=()=>{xe.Z.cancel(r),r=null},u}var je=Be,He=t(53124),Me=t(83559);const Ue=n=>{const{componentCls:r}=n;return{[r]:{position:"fixed",zIndex:n.zIndexPopup}}},Ve=n=>({zIndexPopup:n.zIndexBase+10});var Ge=(0,Me.I$)("Affix",Ue,Ve);function V(n){return n!==window?n.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function Se(n,r,s){if(s!==void 0&&Math.round(r.top)>Math.round(n.top)-s)return s+r.top}function Oe(n,r,s){if(s!==void 0&&Math.round(r.bottom)<Math.round(n.bottom)+s){const u=window.innerHeight-r.bottom;return s+u}}var $e=function(n,r){var s={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&r.indexOf(u)<0&&(s[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,u=Object.getOwnPropertySymbols(n);p<u.length;p++)r.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(n,u[p])&&(s[u[p]]=n[u[p]]);return s};const Ce=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function We(){return typeof window!="undefined"?window:null}const Ae=0,Ee=1;var Xe=l.forwardRef((n,r)=>{var s;const{style:u,offsetTop:p,offsetBottom:A,prefixCls:E,className:G,rootClassName:$,children:se,target:R,onChange:C,onTestUpdatePosition:oe}=n,le=$e(n,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:W,getTargetContainer:ie}=l.useContext(He.E_),L=W("affix",E),[X,J]=l.useState(!1),[P,b]=l.useState(),[ue,ce]=l.useState(),Y=l.useRef(Ae),y=l.useRef(null),a=l.useRef(null),c=l.useRef(null),f=l.useRef(null),o=l.useRef(null),e=(s=R!=null?R:ie)!==null&&s!==void 0?s:We,d=A===void 0&&p===void 0?0:p,x=()=>{if(Y.current!==Ee||!f.current||!c.current||!e)return;const g=e();if(g){const m={status:Ae},v=V(c.current);if(v.top===0&&v.left===0&&v.width===0&&v.height===0)return;const H=V(g),M=Se(v,H,d),Te=Oe(v,H,A);M!==void 0?(m.affixStyle={position:"fixed",top:M,width:v.width,height:v.height},m.placeholderStyle={width:v.width,height:v.height}):Te!==void 0&&(m.affixStyle={position:"fixed",bottom:Te,width:v.width,height:v.height},m.placeholderStyle={width:v.width,height:v.height}),m.lastAffix=!!m.affixStyle,X!==m.lastAffix&&(C==null||C(m.lastAffix)),Y.current=m.status,b(m.affixStyle),ce(m.placeholderStyle),J(m.lastAffix)}},S=()=>{Y.current=Ee,x()},j=je(()=>{S()}),T=je(()=>{if(e&&P){const g=e();if(g&&c.current){const m=V(g),v=V(c.current),H=Se(v,m,d),M=Oe(v,m,A);if(H!==void 0&&P.top===H||M!==void 0&&P.bottom===M)return}}S()}),K=()=>{const g=e==null?void 0:e();g&&(Ce.forEach(m=>{var v;a.current&&((v=y.current)===null||v===void 0||v.removeEventListener(m,a.current)),g==null||g.addEventListener(m,T)}),y.current=g,a.current=T)},fe=()=>{o.current&&(clearTimeout(o.current),o.current=null);const g=e==null?void 0:e();Ce.forEach(m=>{var v;g==null||g.removeEventListener(m,T),a.current&&((v=y.current)===null||v===void 0||v.removeEventListener(m,a.current))}),j.cancel(),T.cancel()};l.useImperativeHandle(r,()=>({updatePosition:j})),l.useEffect(()=>(o.current=setTimeout(K),()=>fe()),[]),l.useEffect(()=>{K()},[R,P,X]),l.useEffect(()=>{j()},[R,p,A]);const[B,de,Q]=Ge(L),ve=ge()($,de,L,Q),he=ge()({[ve]:P});return B(l.createElement(ye.Z,{onResize:j},l.createElement("div",Object.assign({style:u,className:G,ref:c},le),P&&l.createElement("div",{style:ue,"aria-hidden":"true"}),l.createElement("div",{className:he,ref:f,style:P},l.createElement(ye.Z,{onResize:j},se)))))}),Je=t(47046),ee=t(57079);function te(){return te=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n[u]=s[u])}return n},te.apply(this,arguments)}const Ke=(n,r)=>l.createElement(ee.Z,te({},n,{ref:r,icon:Je.Z}));var Qe=l.forwardRef(Ke),ke=t(42110);function ne(){return ne=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n[u]=s[u])}return n},ne.apply(this,arguments)}const qe=(n,r)=>l.createElement(ee.Z,ne({},n,{ref:r,icon:ke.Z}));var _e=l.forwardRef(qe),et=t(66023);function re(){return re=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n[u]=s[u])}return n},re.apply(this,arguments)}const tt=(n,r)=>l.createElement(ee.Z,re({},n,{ref:r,icon:et.Z}));var nt=l.forwardRef(tt),i=t(85893),ae="",Pe=Ze.Z.TextArea,rt=function(){var r=(0,l.useState)([]),s=I()(r,2),u=s[0],p=s[1],A=(0,l.useState)(""),E=I()(A,2),G=E[0],$=E[1],se=(0,l.useState)({}),R=I()(se,2),C=R[0],oe=R[1],le=(0,l.useState)(!1),W=I()(le,2),ie=W[0],L=W[1],X=function(){var y=q()(F()().mark(function a(){var c,f;return F()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ae,"/api/files"));case 3:if(c=e.sent,c.ok){e.next=6;break}throw new Error("\u7F51\u7EDC\u54CD\u5E94\u5931\u8D25");case 6:return e.next=8,c.json();case 8:f=e.sent,f.files?(p(f.files),f.files.length>0&&($(f.files[0]),J(f.files[0]))):w.ZP.error("\u914D\u7F6E\u6587\u4EF6\u5217\u8868\u52A0\u8F7D\u5931\u8D25"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),w.ZP.error("\u83B7\u53D6\u6587\u4EF6\u5217\u8868\u65F6\u51FA\u9519: "+e.t0);case 15:case"end":return e.stop()}},a,null,[[0,12]])}));return function(){return y.apply(this,arguments)}}(),J=function(){var y=q()(F()().mark(function a(c){var f,o;return F()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,L(!0),d.next=4,fetch("".concat(ae,"/api/load/").concat(c));case 4:return f=d.sent,d.next=7,f.json();case 7:o=d.sent,o?(oe(o),o.error&&w.ZP.error("\u9519\u8BEF\uFF1A".concat(o.error))):w.ZP.error("\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u5931\u8D25"),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(0),w.ZP.error("\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u51FA\u9519: "+d.t0);case 14:return d.prev=14,L(!1),d.finish(14);case 17:case"end":return d.stop()}},a,null,[[0,11,14,17]])}));return function(c){return y.apply(this,arguments)}}(),P=function(){var y=q()(F()().mark(function a(){var c,f;return F()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ae,"/api/save/").concat(G),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});case 3:return c=e.sent,e.next=6,c.json();case 6:f=e.sent,f.message?w.ZP.success("\u914D\u7F6E\u6587\u4EF6\u4FDD\u5B58\u6210\u529F"):w.ZP.error(f.error||"\u4FDD\u5B58\u5931\u8D25"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w.ZP.error("\u4FDD\u5B58\u914D\u7F6E\u6587\u4EF6\u65F6\u51FA\u9519: "+e.t0);case 13:case"end":return e.stop()}},a,null,[[0,10]])}));return function(){return y.apply(this,arguments)}}(),b=function(a,c){for(var f=a.split("."),o=z()({},C),e=o.data||o,d=0;d<f.length-1;d++){var x=f[d];if(x.includes("[")){var S=x.split("["),j=I()(S,2),T=j[0],K=j[1],fe=parseInt(K.replace("]",""),10);e=e[T][fe]}else e=e[x]}var B=f[f.length-1];if(B.includes("[")){var de=B.split("["),Q=I()(de,2),ve=Q[0],he=Q[1],g=parseInt(he.replace("]",""),10);e[ve][g]=c}else e[B]=c;oe(o)},ue=function(a,c){return typeof a=="boolean"?(0,i.jsx)(Fe.Z,{checked:a,checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onChange:function(o){return b(c,o)}}):typeof a=="string"?(0,i.jsx)(Pe,{value:a,onChange:function(o){return b(c,o.target.value)},autoSize:{minRows:1,maxRows:5}}):typeof a=="number"?(0,i.jsx)(Ie.Z,{type:"number",value:a,style:{width:"100%"},onChange:function(o){o==null||b(c,o)}}):Array.isArray(a)?(0,i.jsxs)("div",{className:"array-container",children:[a.map(function(f,o){return(0,i.jsxs)("div",{className:"array-item",children:[(0,i.jsx)(Pe,{value:f,onChange:function(d){var x=U()(a);x[o]=d.target.value,b(c,x)},autoSize:{minRows:1,maxRows:5}}),(0,i.jsx)(De.Z,{title:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F",placement:"topRight",onConfirm:function(){var d=a.filter(function(x,S){return S!==o});b(c,d)},okText:"\u662F",cancelText:"\u5426",children:(0,i.jsx)(_.ZP,{danger:!0,icon:(0,i.jsx)(Qe,{})})})]},o)}),(0,i.jsx)(_.ZP,{type:"dashed",icon:(0,i.jsx)(_e,{}),onClick:function(){b(c,[].concat(U()(a),[""]))},children:"\u6DFB\u52A0\u9879"})]}):null},ce=function y(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",e=f[o]||Object.keys(a);return(0,i.jsx)(me.Z,{dataSource:e,bordered:!1,split:!1,renderItem:function(x){var S=a[x],j=o?"".concat(o,".").concat(x):x,T=c[j];return(0,i.jsx)(me.Z.Item,{className:"yaml-item",children:(0,i.jsxs)(pe.Z,{style:{padding:0},className:"yaml-content",children:[(0,i.jsxs)("div",{className:"key-container",children:[(0,i.jsxs)("strong",{style:{fontSize:"1.2rem"},children:[x,":"]}),T&&(0,i.jsx)("span",{style:{left:"10px",opacity:.8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},className:"comment",dangerouslySetInnerHTML:{__html:T.replace(/((?:https?:\/\/)?(?:(?:[a-z0-9]?(?:[a-z0-9\-]{1,61}[a-z0-9])?\.[^\.|\s])+[a-z\.]*[a-z]+|(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})(?::\d{1,5})*[a-z0-9.,_\/~#&=;%+?\-\\(\\)]*)/gi,'<a href="$&" target="_blank">$&</a>')}})]}),N()(S)==="object"&&!Array.isArray(S)?(0,i.jsx)("div",{className:"nested-object",children:y(S,c,f,j)}):ue(S,j)]})})}})};(0,l.useEffect)(function(){X()},[]);var Y=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ne.Z,{style:{width:"100%"},value:G||void 0,placeholder:"\u9009\u62E9\u6587\u4EF6",onChange:function(c){$(c),J(c)},suffixIcon:(0,i.jsx)(nt,{}),options:u.map(function(a){return{value:a,label:a}})}),(0,i.jsx)(_.ZP,{type:"primary",onClick:P,style:{marginLeft:"8px"},children:"\u4FDD\u5B58\u914D\u7F6E"})]})};return(0,i.jsx)(ze.Z,{spinning:ie,size:"large",children:(0,i.jsx)(pe.Z,{style:{padding:0},children:(0,i.jsxs)("div",{className:"yaml-editor",children:[(0,i.jsx)(Xe,{offsetTop:60,children:(0,i.jsx)("div",{className:"file-controls",children:(0,i.jsx)(Y,{})})}),(0,i.jsx)("div",{className:"editor-content",children:C.data&&ce(C.data,C.comments,C.order)}),(0,i.jsx)("style",{children:`
        .yaml-editor {
          // padding: 20px;
        }
        .file-controls {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          display: flex;
          gap: 5px;
          padding: 5px;
        }
        .yaml-item {
          // border: 1px solid #e8e8e8;
          // padding: 5px;
          // margin-bottom: 10px;
          border-radius: 5px;
        }
        .yaml-content {
          width: 100%;
        }
        .key-container {
          margin-bottom: 8px;
        }
        .comment {
          margin-left: 8px;
        }
        .nested-object {
          margin-left: 20px;
        }
        .array-container {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        .array-item {
          display: flex;
          gap: 8px;
          align-items: center;
        }
      `})]})})})},at=rt},96446:function(h,O,t){var D=t(37923);function N(Z){if(Array.isArray(Z))return D(Z)}h.exports=N,h.exports.__esModule=!0,h.exports.default=h.exports},96936:function(h){function O(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}h.exports=O,h.exports.__esModule=!0,h.exports.default=h.exports},88619:function(h){function O(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}h.exports=O,h.exports.__esModule=!0,h.exports.default=h.exports},19632:function(h,O,t){var D=t(96446),N=t(96936),Z=t(96263),U=t(88619);function k(z){return D(z)||N(z)||Z(z)||U()}h.exports=k,h.exports.__esModule=!0,h.exports.default=h.exports}}]);
