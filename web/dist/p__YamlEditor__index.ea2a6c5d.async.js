(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[445],{47046:function(h,O){"use strict";var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};O.Z=t},33002:function(h,O,t){"use strict";t.r(O),t.d(O,{default:function(){return rt}});var D=t(52677),N=t.n(D),Z=t(19632),U=t.n(Z),k=t(97857),z=t.n(k),Te=t(15009),F=t.n(Te),be=t(99289),q=t.n(be),Re=t(5574),I=t.n(Re),l=t(67294),Ze=t(55102),T=t(2453),Fe=t(72269),Ie=t(37804),De=t(86738),_=t(83622),me=t(2487),pe=t(4393),Ne=t(34041),ze=t(93967),ge=t.n(ze),ye=t(9220),Le=t(74902),xe=t(75164);function Ye(n){let r;const s=p=>()=>{r=null,n.apply(void 0,(0,Le.Z)(p))},i=function(){if(r==null){for(var p=arguments.length,A=new Array(p),E=0;E<p;E++)A[E]=arguments[E];r=(0,xe.Z)(s(A))}};return i.cancel=()=>{xe.Z.cancel(r),r=null},i}var je=Ye,Be=t(53124),He=t(83559);const Me=n=>{const{componentCls:r}=n;return{[r]:{position:"fixed",zIndex:n.zIndexPopup}}},Ue=n=>({zIndexPopup:n.zIndexBase+10});var Ve=(0,He.I$)("Affix",Me,Ue);function V(n){return n!==window?n.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function Se(n,r,s){if(s!==void 0&&Math.round(r.top)>Math.round(n.top)-s)return s+r.top}function Oe(n,r,s){if(s!==void 0&&Math.round(r.bottom)<Math.round(n.bottom)+s){const i=window.innerHeight-r.bottom;return s+i}}var Ge=function(n,r){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,i=Object.getOwnPropertySymbols(n);p<i.length;p++)r.indexOf(i[p])<0&&Object.prototype.propertyIsEnumerable.call(n,i[p])&&(s[i[p]]=n[i[p]]);return s};const Ce=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function $e(){return typeof window!="undefined"?window:null}const Ae=0,Ee=1;var We=l.forwardRef((n,r)=>{var s;const{style:i,offsetTop:p,offsetBottom:A,prefixCls:E,className:G,rootClassName:$,children:se,target:b,onChange:C,onTestUpdatePosition:oe}=n,le=Ge(n,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:W,getTargetContainer:ie}=l.useContext(Be.E_),L=W("affix",E),[X,J]=l.useState(!1),[P,R]=l.useState(),[ue,ce]=l.useState(),Y=l.useRef(Ae),y=l.useRef(null),a=l.useRef(null),u=l.useRef(null),f=l.useRef(null),o=l.useRef(null),e=(s=b!=null?b:ie)!==null&&s!==void 0?s:$e,d=A===void 0&&p===void 0?0:p,x=()=>{if(Y.current!==Ee||!f.current||!u.current||!e)return;const g=e();if(g){const m={status:Ae},v=V(u.current);if(v.top===0&&v.left===0&&v.width===0&&v.height===0)return;const H=V(g),M=Se(v,H,d),we=Oe(v,H,A);M!==void 0?(m.affixStyle={position:"fixed",top:M,width:v.width,height:v.height},m.placeholderStyle={width:v.width,height:v.height}):we!==void 0&&(m.affixStyle={position:"fixed",bottom:we,width:v.width,height:v.height},m.placeholderStyle={width:v.width,height:v.height}),m.lastAffix=!!m.affixStyle,X!==m.lastAffix&&(C==null||C(m.lastAffix)),Y.current=m.status,R(m.affixStyle),ce(m.placeholderStyle),J(m.lastAffix)}},S=()=>{Y.current=Ee,x()},j=je(()=>{S()}),w=je(()=>{if(e&&P){const g=e();if(g&&u.current){const m=V(g),v=V(u.current),H=Se(v,m,d),M=Oe(v,m,A);if(H!==void 0&&P.top===H||M!==void 0&&P.bottom===M)return}}S()}),K=()=>{const g=e==null?void 0:e();g&&(Ce.forEach(m=>{var v;a.current&&((v=y.current)===null||v===void 0||v.removeEventListener(m,a.current)),g==null||g.addEventListener(m,w)}),y.current=g,a.current=w)},fe=()=>{o.current&&(clearTimeout(o.current),o.current=null);const g=e==null?void 0:e();Ce.forEach(m=>{var v;g==null||g.removeEventListener(m,w),a.current&&((v=y.current)===null||v===void 0||v.removeEventListener(m,a.current))}),j.cancel(),w.cancel()};l.useImperativeHandle(r,()=>({updatePosition:j})),l.useEffect(()=>(o.current=setTimeout(K),()=>fe()),[]),l.useEffect(()=>{K()},[b,P,X]),l.useEffect(()=>{j()},[b,p,A]);const[B,de,Q]=Ve(L),ve=ge()($,de,L,Q),he=ge()({[ve]:P});return B(l.createElement(ye.Z,{onResize:j},l.createElement("div",Object.assign({style:i,className:G,ref:u},le),P&&l.createElement("div",{style:ue,"aria-hidden":"true"}),l.createElement("div",{className:he,ref:f,style:P},l.createElement(ye.Z,{onResize:j},se)))))}),Xe=t(47046),ee=t(57079);function te(){return te=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},te.apply(this,arguments)}const Je=(n,r)=>l.createElement(ee.Z,te({},n,{ref:r,icon:Xe.Z}));var Ke=l.forwardRef(Je),Qe=t(42110);function ne(){return ne=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},ne.apply(this,arguments)}const ke=(n,r)=>l.createElement(ee.Z,ne({},n,{ref:r,icon:Qe.Z}));var qe=l.forwardRef(ke),_e=t(66023);function re(){return re=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},re.apply(this,arguments)}const et=(n,r)=>l.createElement(ee.Z,re({},n,{ref:r,icon:_e.Z}));var tt=l.forwardRef(et),c=t(85893),ae="",Pe=Ze.Z.TextArea,nt=function(){var r=(0,l.useState)([]),s=I()(r,2),i=s[0],p=s[1],A=(0,l.useState)(""),E=I()(A,2),G=E[0],$=E[1],se=(0,l.useState)({}),b=I()(se,2),C=b[0],oe=b[1],le=(0,l.useState)(!1),W=I()(le,2),ie=W[0],L=W[1],X=function(){var y=q()(F()().mark(function a(){var u,f;return F()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ae,"/api/files"));case 3:if(u=e.sent,u.ok){e.next=6;break}throw new Error("\u7F51\u7EDC\u54CD\u5E94\u5931\u8D25");case 6:return e.next=8,u.json();case 8:f=e.sent,f.files?(p(f.files),f.files.length>0&&($(f.files[0]),J(f.files[0]))):T.ZP.error("\u914D\u7F6E\u6587\u4EF6\u5217\u8868\u52A0\u8F7D\u5931\u8D25"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),T.ZP.error("\u83B7\u53D6\u6587\u4EF6\u5217\u8868\u65F6\u51FA\u9519: "+e.t0);case 15:case"end":return e.stop()}},a,null,[[0,12]])}));return function(){return y.apply(this,arguments)}}(),J=function(){var y=q()(F()().mark(function a(u){var f,o;return F()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,L(!0),d.next=4,fetch("".concat(ae,"/api/load/").concat(u));case 4:return f=d.sent,d.next=7,f.json();case 7:o=d.sent,o?(oe(o),o.error&&T.ZP.error("\u9519\u8BEF\uFF1A".concat(o.error))):T.ZP.error("\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u5931\u8D25"),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(0),T.ZP.error("\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u51FA\u9519: "+d.t0);case 14:return d.prev=14,L(!1),d.finish(14);case 17:case"end":return d.stop()}},a,null,[[0,11,14,17]])}));return function(u){return y.apply(this,arguments)}}(),P=function(){var y=q()(F()().mark(function a(){var u,f;return F()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ae,"/api/save/").concat(G),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});case 3:return u=e.sent,e.next=6,u.json();case 6:f=e.sent,f.message?T.ZP.success("\u914D\u7F6E\u6587\u4EF6\u4FDD\u5B58\u6210\u529F"):T.ZP.error(f.error||"\u4FDD\u5B58\u5931\u8D25"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),T.ZP.error("\u4FDD\u5B58\u914D\u7F6E\u6587\u4EF6\u65F6\u51FA\u9519: "+e.t0);case 13:case"end":return e.stop()}},a,null,[[0,10]])}));return function(){return y.apply(this,arguments)}}(),R=function(a,u){for(var f=a.split("."),o=z()({},C),e=o.data||o,d=0;d<f.length-1;d++){var x=f[d];if(x.includes("[")){var S=x.split("["),j=I()(S,2),w=j[0],K=j[1],fe=parseInt(K.replace("]",""),10);e=e[w][fe]}else e=e[x]}var B=f[f.length-1];if(B.includes("[")){var de=B.split("["),Q=I()(de,2),ve=Q[0],he=Q[1],g=parseInt(he.replace("]",""),10);e[ve][g]=u}else e[B]=u;oe(o)},ue=function(a,u){return typeof a=="boolean"?(0,c.jsx)(Fe.Z,{checked:a,checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onChange:function(o){return R(u,o)}}):typeof a=="string"?(0,c.jsx)(Pe,{value:a,onChange:function(o){return R(u,o.target.value)},autoSize:{minRows:1,maxRows:5}}):typeof a=="number"?(0,c.jsx)(Ie.Z,{type:"number",value:a,style:{width:"100%"},onChange:function(o){o==null||R(u,o)}}):Array.isArray(a)?(0,c.jsxs)("div",{className:"array-container",children:[a.map(function(f,o){return(0,c.jsxs)("div",{className:"array-item",children:[(0,c.jsx)(Pe,{value:f,onChange:function(d){var x=U()(a);x[o]=d.target.value,R(u,x)},autoSize:{minRows:1,maxRows:5}}),(0,c.jsx)(De.Z,{title:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F",placement:"topRight",onConfirm:function(){var d=a.filter(function(x,S){return S!==o});R(u,d)},okText:"\u662F",cancelText:"\u5426",children:(0,c.jsx)(_.ZP,{danger:!0,icon:(0,c.jsx)(Ke,{})})})]},o)}),(0,c.jsx)(_.ZP,{type:"dashed",icon:(0,c.jsx)(qe,{}),onClick:function(){R(u,[].concat(U()(a),[""]))},children:"\u6DFB\u52A0\u9879"})]}):null},ce=function y(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",e=f[o]||Object.keys(a);return(0,c.jsx)(me.Z,{dataSource:e,bordered:!1,split:!1,renderItem:function(x){var S=a[x],j=o?"".concat(o,".").concat(x):x,w=u[j];return(0,c.jsx)(me.Z.Item,{className:"yaml-item",children:(0,c.jsxs)(pe.Z,{style:{padding:0},className:"yaml-content",children:[(0,c.jsxs)("div",{className:"key-container",children:[(0,c.jsxs)("strong",{style:{fontSize:"1.2rem"},children:[x,":"]}),w&&(0,c.jsx)("span",{style:{left:"10px",opacity:.8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},className:"comment",dangerouslySetInnerHTML:{__html:w.replace(/((?:https?:\/\/)?(?:(?:[a-z0-9]?(?:[a-z0-9\-]{1,61}[a-z0-9])?\.[^\.|\s])+[a-z\.]*[a-z]+|(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})(?::\d{1,5})*[a-z0-9.,_\/~#&=;%+?\-\\(\\)]*)/gi,'<a href="$&" target="_blank">$&</a>')}})]}),N()(S)==="object"&&!Array.isArray(S)?(0,c.jsx)("div",{className:"nested-object",children:y(S,u,f,j)}):ue(S,j)]})})}})};(0,l.useEffect)(function(){X()},[]);var Y=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ne.Z,{style:{width:"100%"},value:G||void 0,placeholder:"\u9009\u62E9\u6587\u4EF6",onChange:function(u){$(u),J(u)},suffixIcon:(0,c.jsx)(tt,{}),options:i.map(function(a){return{value:a,label:a}})}),(0,c.jsx)(_.ZP,{type:"primary",onClick:P,style:{marginLeft:"8px"},children:"\u4FDD\u5B58\u914D\u7F6E"})]})};return(0,c.jsx)(pe.Z,{style:{padding:0},loading:ie,children:(0,c.jsxs)("div",{className:"yaml-editor",children:[(0,c.jsx)(We,{offsetTop:60,children:(0,c.jsx)("div",{className:"file-controls",children:(0,c.jsx)(Y,{})})}),(0,c.jsx)("div",{className:"editor-content",children:C.data&&ce(C.data,C.comments,C.order)}),(0,c.jsx)("style",{children:`
        .yaml-editor {
          // padding: 20px;
        }
        .file-controls {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          display: flex;
          gap: 5px;
          padding: 5px;
        }
        .yaml-item {
          // border: 1px solid #e8e8e8;
          // padding: 5px;
          // margin-bottom: 10px;
          border-radius: 5px;
        }
        .yaml-content {
          width: 100%;
        }
        .key-container {
          margin-bottom: 8px;
        }
        .comment {
          margin-left: 8px;
        }
        .nested-object {
          margin-left: 20px;
        }
        .array-container {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        .array-item {
          display: flex;
          gap: 8px;
          align-items: center;
        }
      `})]})},"0")},rt=nt},96446:function(h,O,t){var D=t(37923);function N(Z){if(Array.isArray(Z))return D(Z)}h.exports=N,h.exports.__esModule=!0,h.exports.default=h.exports},96936:function(h){function O(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}h.exports=O,h.exports.__esModule=!0,h.exports.default=h.exports},88619:function(h){function O(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}h.exports=O,h.exports.__esModule=!0,h.exports.default=h.exports},19632:function(h,O,t){var D=t(96446),N=t(96936),Z=t(96263),U=t(88619);function k(z){return D(z)||N(z)||Z(z)||U()}h.exports=k,h.exports.__esModule=!0,h.exports.default=h.exports}}]);
